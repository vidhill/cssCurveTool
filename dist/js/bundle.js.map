{"version":3,"sources":["webpack:///webpack/bootstrap b9c049a0af2dd6135bd2","webpack:///./src/js/helpers.js","webpack:///./src/js/app.js","webpack:///./src/js/dom/setup.js","webpack:///./src/js/points-to-cubic.js","webpack:///./src/js/factory/keyframe-store-factory.js","webpack:///./src/js/factory/create-timepoint-factory.js","webpack:///./src/js/dom/create-keyframe.js","webpack:///./src/js/factory/calculate-y-pos-factory.js","webpack:///./src/js/path-calculation/create-segments.js"],"names":["isObject","value","decimalToPercentage","dec","toFixed","toTimeScale","val","total","toSpacedString","strings","join","keyFrameStore","keyFrameFactory","docSetting","width","height","sidePad","bottomPad","bgColour","doc","Snap","rect","attr","fill","containAll","g","timeLine","init","calculateXpos","perc","createTimePoint","createTimePointFactory","addKeyFramesToTimeline","keyFrames","valsArr","map","key","opacity","maxMin","maxVal","Math","max","minVal","min","calculateYpos","calculateYPosFactory","yPos","points","x","keyFrame","offset","y","pointArr","reduce","bezierPath","createSegments","path","stroke","strokeWidth","timePoints","point","pointObj","add","group","transform","myKeyFrames","currKeyFrames","setKeyFrames","snap","tLineSetting","objRef","prevVal","ind","srcArr","prevPoint","nextPoint","undefined","xDiff","backwardCurve","forwardCurve","push","keys","getKeyFrames","addKeyFrame","hasOwnProperty","TypeError","removeKeyFrame","index","splice","updateKeyOffset","newOffset","drawHandle","curvePoint","objectRef","handleColour","handleSetting","line","circle","refContain","updatePoint","newPoint","setLabelText","helpers","setTimeText","setPathPointYPos","text","labelText","node","textContent","timeText","pathPoint","cy","renderKeyFrame","forwardHandle","backHandle","thumbDimensions","strokeOpacity","thumb","textAnchor","minMaxVals","maxHeightRange","zeroYPosition","distance","fractionTotal","abs","segmentMethods","cubicBezier","pointA","pointB","controlPoint","pointsArray","result","pathStrArr","i","len","length"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b9c049a0af2dd6135bd2","\nexport default {\n    isObject: function(value){\n        return value !== null && typeof value === 'object'; // courtesy of angularjs\n    },\n    decimalToPercentage: function(dec){\n        return ( dec * 100 ).toFixed(2) + '%';\n    },\n    toTimeScale: function (val, total) {\n        return (total*val).toFixed(2) + 'ms';\n    },\n    toSpacedString: function (...strings) {\n        return strings.join(' ');\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/helpers.js","/**\n * Created by davidhill on 11/07/2016.\n */\n\n// import helpers from './helpers.js';\nimport init from './dom/setup.js';\nimport pointsToCubic from './points-to-cubic.js';\n\nimport keyFrameFactory from './factory/keyframe-store-factory';\nimport createTimePointFactory from './factory/create-timepoint-factory.js';\nimport calculateYPosFactory from './factory/calculate-y-pos-factory.js';\n\nimport createSegments from './path-calculation/create-segments.js';\n\nconst keyFrameStore = keyFrameFactory();\n\n\nconst docSetting = {\n    width: 800,\n    height: 500,\n    sidePad: 40,\n    bottomPad: 100,\n    bgColour: '#bada55'\n};\n\n// create holder svg element\nconst doc = Snap(docSetting.width, docSetting.height);\n\n// draw background\ndoc.rect(0, 0, docSetting.width, docSetting.height).attr({\n    fill: docSetting.bgColour\n});\n\n// create a group element to contain all elements\nconst containAll = doc.g();\nconst timeLine = init(containAll, docSetting);\n\nvar calculateXpos = function(perc){\n    return timeLine.width * perc;\n};\n\nconst createTimePoint = createTimePointFactory(containAll, timeLine);\n\nfunction addKeyFramesToTimeline(keyFrames) {\n\n    var valsArr = keyFrames.map(key => key.opacity);\n\n    var maxMin = {\n        maxVal: Math.max(...valsArr),\n        minVal: Math.min(...valsArr)\n    };\n\n    var calculateYpos = calculateYPosFactory(maxMin, timeLine.height, timeLine.yPos);\n\n    var points = keyFrames.map(keyFrame => {\n        return {\n            x: calculateXpos(keyFrame.offset),\n            y: calculateYpos(keyFrame.opacity),\n            offset: keyFrame.offset\n        };\n    });\n\n    var pointArr = points.reduce(pointsToCubic, []);\n    var bezierPath = createSegments(pointArr);\n\n\n    containAll.path(bezierPath)\n        .attr({\n            stroke: '#FF0000',\n            strokeWidth: 2,\n            fill: 'none'\n        });\n\n\n    const timePoints = pointArr.map(function(point){\n\n        let pointObj = createTimePoint(point);\n        containAll.add(pointObj.group);\n\n        return pointObj;\n\n    });\n\n        //timePoints[1].updatePoint();\n\n        // move everting over to the right\n    containAll.transform(`translate(${docSetting.sidePad} 0)`);\n\n    return timePoints;\n}\n\n\nlet myKeyFrames = [\n    { transform: 'scale(1)', opacity: 1, offset: 0 },\n    { transform: 'scale(.5)', opacity: 0, offset: .33333 },\n    { transform: 'scale(.667)', opacity: 0.5, offset: .66666 },\n    { transform: 'scale(.6)', opacity: 0, offset: 1 }\n];\n\nlet currKeyFrames = keyFrameStore.setKeyFrames(myKeyFrames);\n\naddKeyFramesToTimeline(currKeyFrames);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app.js","/**\n * Created by davidhill on 12/07/2016.\n */\n\nexport default function (snap, docSetting) {\n    var tLineSetting = {\n        width: (docSetting.width - (docSetting.sidePad * 2)),\n        height: 300,\n        yPos: docSetting.height - docSetting.bottomPad\n    };\n\n    // draw timeline\n    tLineSetting.objRef = snap.path(`M0 ${tLineSetting.yPos} h${tLineSetting.width}`)\n        .attr({\n            stroke: '#000',\n            strokeWidth: 1\n        });\n\n    return tLineSetting;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dom/setup.js","\n\nexport default function (prevVal, point, ind, srcArr){\n\n    let prevPoint = srcArr[ind - 1];\n    let nextPoint = srcArr[ind + 1];\n\n    if(prevPoint !== undefined){\n        let xDiff = point.x - prevPoint.x;\n\n        // easeOut = cubic-bezier(0,0, 0.58,1)\n        point.backwardCurve = {\n            x: point.x - (xDiff * 0.58), //\n            y: point.y // 1\n        };\n\n    }\n\n    if(nextPoint !== undefined) {\n        let xDiff = nextPoint.x - point.x;\n\n        // easeIn = cubic-bezier(0.42,0, 1,1)\n        point.forwardCurve = {\n            x: point.x + ( xDiff * 0.42 ),\n            y: point.y // 0\n        };\n\n    }\n\n    prevVal.push(point);\n\n    return prevVal;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/points-to-cubic.js","/**\n * Created by davidhill on 02/08/2016.\n */\n\n\nexport default function () {\n    let keyFrames = [];\n\n    return {\n        setKeyFrames(keys){\n            keyFrames = keys;\n            return keyFrames;\n\n        },\n        getKeyFrames(){\n            return keyFrames;\n        },\n        addKeyFrame(key){\n            if(key.hasOwnProperty('offset')){\n                keyFrames.push(key);\n            } else {\n                throw new TypeError('Keyframes should have an offset property');\n            }\n        },\n        removeKeyFrame(index){\n            keyFrames.splice(index, 1);\n            return keyFrames;\n        },\n        updateKeyOffset(index, newOffset){\n            keyFrames[index].offset = newOffset;\n            return keyFrames[index];\n        }\n\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/factory/keyframe-store-factory.js","/**\n * Created by davidhill on 27/07/2016.\n */\n\nimport helpers from '../helpers.js';\nimport renderKeyFrame from '../dom/create-keyframe.js';\n\nfunction drawHandle(point, curvePoint, doc) {\n\n    let objectRef = {};\n\n    let handleColour = '#0000AA';\n    let handleSetting = {\n        stroke: handleColour,\n        strokeWidth: 1\n    };\n\n    objectRef.line = doc.line(point.x, point.y, curvePoint.x, curvePoint.y)\n        .attr(handleSetting);\n    objectRef.circle = doc.circle(curvePoint.x, curvePoint.y, 5)\n        .attr({\n            fill: handleColour\n        });\n    //.drag();\n\n    return objectRef;\n\n}\n\n\nexport default function(doc, timeLine) {\n\n    return function(point) {\n        var refContain = {\n            updatePoint(newPoint){\n                this.setLabelText( helpers.decimalToPercentage(newPoint.offset) );\n                this.setTimeText( helpers.toTimeScale(newPoint.offset, 500) );\n                this.setPathPointYPos(newPoint.y);\n            },\n            setLabelText(text){\n                this.labelText.node.textContent = text;\n            },\n            setTimeText(text){\n                this.timeText.node.textContent = text;\n            },\n            setPathPointYPos(yPos){\n                this.pathPoint.attr({cy: yPos});\n            }\n        };\n\n        var g = doc.g(); // group to hold\n\n        g.transform(`translate(${point.x} 0)`);\n\n        refContain = renderKeyFrame(refContain, g, timeLine);\n\n        refContain.updatePoint(point);\n\n        if(helpers.isObject(point.forwardCurve)){\n            refContain.forwardHandle = drawHandle(point, point.forwardCurve, doc);\n        }\n\n        if(helpers.isObject(point.backwardCurve)){\n            refContain.backHandle = drawHandle(point, point.backwardCurve, doc);\n        }\n\n        //g.drag();\n\n        refContain.group = g;\n\n        return refContain;\n    };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/factory/create-timepoint-factory.js","\n\nconst thumbDimensions = {\n    width: 5,\n    height: 15\n};\n\nexport default function(refContain, group, timeLine){\n    refContain.line = group.path(`M0,${timeLine.yPos},v-${timeLine.height}`)\n        .attr({\n            stroke: '#000',\n            strokeOpacity: 0.5,\n            strokeWidth: 1\n        });\n\n    refContain.thumb = group.rect(0, timeLine.yPos , thumbDimensions.width, thumbDimensions.height)\n        .transform(`translate(-${thumbDimensions.width/2} -${thumbDimensions.height/2})`);\n\n\n    refContain.labelText = group.text(0, timeLine.yPos + 30, '')\n        .attr({\n            textAnchor: 'middle'\n        });\n\n    refContain.timeText = group.text(0, timeLine.yPos + 60, '')\n        .attr({\n            textAnchor: 'middle'\n        });\n\n    refContain.pathPoint = group.circle(0, 0, 5);\n\n    return refContain;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dom/create-keyframe.js","\nexport default function (minMaxVals, maxHeightRange, zeroYPosition) {\n\n    const { maxVal, minVal } = minMaxVals;\n    const distance = maxVal - minVal;\n\n    return function(val){\n        const fractionTotal = (val + Math.abs(minVal))/distance;\n        return zeroYPosition - (maxHeightRange * fractionTotal);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/factory/calculate-y-pos-factory.js","import helpers from '../helpers.js';\n\nexport const segmentMethods = {\n    cubicBezier(pointA, pointB) {\n        let controlPoint = [];\n\n        controlPoint[0] = 'M' + helpers.toSpacedString(pointA.x, pointA.y);\n        controlPoint[1] = 'C' + helpers.toSpacedString(pointA.forwardCurve.x, pointA.forwardCurve.y);\n\n        controlPoint[2] = helpers.toSpacedString(pointB.backwardCurve.x, pointB.backwardCurve.y);\n        controlPoint[3] = helpers.toSpacedString(pointB.x, pointB.y);\n\n        return controlPoint.join(' ');\n\n    }\n};\n\nexport default function(pointsArray) {\n\n    let result,\n        pathStrArr = [];\n\n    for(let i = 0, len = pointsArray.length - 1; i < len; i++ ){\n        // curve between current point and next\n        result = segmentMethods.cubicBezier(pointsArray[i], pointsArray[i+1]);\n        pathStrArr.push(result);\n    }\n\n    return pathStrArr.join(' ');\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/path-calculation/create-segments.js"],"sourceRoot":""}